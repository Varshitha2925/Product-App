{"ast":null,"code":"import { map } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../core/services/product.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../../../shared/components/product-card/product-card.component\";\nimport * as i5 from \"@angular/material/chips\";\nfunction ProductListComponent_mat_chip_option_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-chip-option\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const c_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", c_r1);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(c_r1);\n  }\n}\nfunction ProductListComponent_section_3_app_product_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-product-card\", 7);\n    i0.ɵɵlistener(\"selected\", function ProductListComponent_section_3_app_product_card_1_Template_app_product_card_selected_0_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.nav($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const p_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"product\", p_r4);\n  }\n}\nfunction ProductListComponent_section_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 5);\n    i0.ɵɵtemplate(1, ProductListComponent_section_3_app_product_card_1_Template, 1, 1, \"app-product-card\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const list_r5 = ctx.ngIf;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", list_r5);\n  }\n}\nexport let ProductListComponent = /*#__PURE__*/(() => {\n  class ProductListComponent {\n    constructor(svc, router) {\n      this.svc = svc;\n      this.router = router;\n      this.categories = ['All', 'Electronics', 'Wearables', 'Photography', 'Furniture', 'Accessories', 'Gaming'];\n      this.selected = 'All';\n    }\n    ngOnInit() {\n      this.products$ = this.svc.getAll();\n      this.apply();\n    }\n    apply() {\n      this.filtered$ = this.products$.pipe(map(list => this.selected === 'All' ? list : list.filter(p => p.category === this.selected)));\n    }\n    nav(id) {\n      this.router.navigate(['/products', id]);\n    }\n    static {\n      this.ɵfac = function ProductListComponent_Factory(t) {\n        return new (t || ProductListComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ProductListComponent,\n        selectors: [[\"app-product-list\"]],\n        decls: 5,\n        vars: 5,\n        consts: [[1, \"container\"], [1, \"chips\", 3, \"valueChange\", \"value\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"grid\", 4, \"ngIf\"], [3, \"value\"], [1, \"grid\"], [3, \"product\", \"selected\", 4, \"ngFor\", \"ngForOf\"], [3, \"selected\", \"product\"]],\n        template: function ProductListComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-chip-listbox\", 1);\n            i0.ɵɵlistener(\"valueChange\", function ProductListComponent_Template_mat_chip_listbox_valueChange_1_listener($event) {\n              ctx.selected = $event;\n              return ctx.apply();\n            });\n            i0.ɵɵtemplate(2, ProductListComponent_mat_chip_option_2_Template, 2, 2, \"mat-chip-option\", 2);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(3, ProductListComponent_section_3_Template, 2, 1, \"section\", 3);\n            i0.ɵɵpipe(4, \"async\");\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"value\", ctx.selected);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(4, 3, ctx.filtered$));\n          }\n        },\n        dependencies: [i3.NgForOf, i3.NgIf, i4.ProductCardComponent, i5.MatChipListbox, i5.MatChipOption, i3.AsyncPipe],\n        styles: [\".chips[_ngcontent-%COMP%]{margin:1rem 0;display:flex;flex-wrap:wrap;gap:.5rem}.grid[_ngcontent-%COMP%]{display:grid;gap:1.5rem;grid-template-columns:repeat(auto-fill,minmax(280px,1fr))}\"]\n      });\n    }\n  }\n  return ProductListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}